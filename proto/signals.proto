syntax = "proto3";

package signals;

service SignalService {
  rpc StreamBuySignals(StreamRequest) returns (stream BuySignal);
}

message StreamRequest {
  string subscriber_id = 1;
  string receiver_id = 2;
}



message  BuySignal {
  string signal = 1;
  string name = 2;
  string symbol = 3;
  string composite_score = 4;
  string token_address = 5;
  string chain_id = 6;
  string dex_id = 7;
  string risk_level = 8;
  string liquidity_direction = 9;
  string trend_direction = 10;
  string rsi = 11;
  string sma_long = 12;
  string sma_short = 13;
  int64 created_at = 14;
  int64 updated_at = 15 ;
  string warnings = 16;
  double entry_price = 17;
  double target_price = 18;
  double entry_market_cap = 19;
  double current_market_cap = 20;
  double entry_liquidity = 21;
  double current_liquidity = 22;
  double entry_volume = 23;
  double current_volume = 24;
  double current_price = 25;
  optional  TokenSecurityInfo token_security_info = 26;

  optional string website = 27;
  optional string twitter_url = 28;
  optional string telegram_url = 29;
  optional string description = 30;
  optional int64 twitter_follower_count = 31;
  optional string pump_grade = 32;
  optional double pump_score = 33;

}

message  PriceChangeSignal {
  string signal = 1;
  string name = 2;
  string symbol = 3;
  string composite_score = 4;
  string token_address = 5;
  string chain_id = 6;
  string dex_id = 7;
  string rsi = 8;
  string sma_long = 9;
  string sma_short = 10;
  double entry_price = 11;
  double target_price = 12;
  double price_change_percent = 13;
  double current_market_cap = 14;
  double entry_liquidity = 15;
  double current_liquidity = 16;
  double entry_volume = 17;
  double current_volume = 18;
  double current_price = 19;

}

message  TokenSecurityInfo {

  string summary = 1;
  bool is_honeypot = 2;
  bool is_in_dex = 3;
  int64  lp_holder_count = 4;
  double buy_tax = 5;
  double sell_tax = 6;
  double risk_score = 7;
  string risk_level = 8;
 optional int64  holder_count = 9;


}